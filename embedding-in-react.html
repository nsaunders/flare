<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" type="image/svg+xml" href="/favicon.svg"/><link rel="icon" type="image/png" href="/favicon.png"/><title>Embedding in React - Flare</title><meta property="description" content="Seamlessly integrate a Flare UI into a React application."/><meta property="og:title" content="Embedding in React - Flare"/><meta property="og:description" content="Seamlessly integrate a Flare UI into a React application."/><meta property="og:image" content="https://repository-images.githubusercontent.com/396804402/b18f1b49-b3d8-4360-a709-bf71857c4cd4"/><meta property="og:url" content="https://flare.js.org/embedding-in-react"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site_name" content="Flare"/><meta name="twitter:image:alt" content="Flare logo"/><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/9be6ff39e107b7506549.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9be6ff39e107b7506549.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a63d2955ed7ba1106594.js"></script><script src="/_next/static/chunks/webpack-ddd010a953737b6e3536.js" defer=""></script><script src="/_next/static/chunks/main-d0ded09862015717cf73.js" defer=""></script><script src="/_next/static/chunks/pages/_app-865022f97d6524d55dbb.js" defer=""></script><script src="/_next/static/chunks/27-9fd8037e77289b0c7116.js" defer=""></script><script src="/_next/static/chunks/pages/embedding-in-react-7ab6526340ce33765203.js" defer=""></script><script src="/_next/static/cUmJIaZ8f2xaRCa3PW4Cr/_buildManifest.js" defer=""></script><script src="/_next/static/cUmJIaZ8f2xaRCa3PW4Cr/_ssgManifest.js" defer=""></script></head><body class="dark"><div id="__next"><div class="shell"><nav class="menu"><div tabindex="-1" class="nlc60gp"><div class="bbsl2l rx18w0"><a class="xoeu0x1" tabindex="-1" href="/getting-started">Getting Started</a><a class="xoeu0x1" tabindex="-1" href="/examples">Examples</a><a class="xoeu0x1 dbwjksx" tabindex="-1" href="/embedding-in-react">Embedding in React</a><a class="xoeu0x1" tabindex="-1" href="/customizing">Customizing</a><a class="xoeu0x1" tabindex="-1" href="/api-docs">API</a></div></div></nav><div class="content"><div class="trglf0 yfmn7zs" style="z-index:1;top:39px;left:calc(50% - 0px)"><a class="zj09val" tabindex="-1" href="/"><h1 class="vun1ft ufqvkhi">Flare</h1></a></div><div class="header"><button class="i3w6b0 k1av26k bgempl nn9piq"><div class="tnxudgn e3pl1z8"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></div></button><button class="f79d9c9 k1av26k bgempl nn9piq"><div class="tnxudgn e3pl1z8"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></svg></div></button></div><div class="main"><main style="opacity:0"><div class="bgl3zf"><h1 id="embedding-in-react">Embedding in React</h1><p>The <a href="https://flare.js.org/api-docs/flare-core#runflare"><code>RunFlare</code></a> component
provides the means to embed a Flare UI in a <a href="https://reactjs.org">React</a>
application. This short guide explains how the <code>RunFlare</code> component works.</p><h2 id="overview">Overview</h2><p>The <code>RunFlare</code> component renders a Flare UI wherever it exists in the component
tree and invokes a callback each time the value changes in response to user
input.</p><p>The UI and callback are passed via <code>flare</code> and <code>handler</code> props, respectively.</p><h2 id="generic-implementation">Generic Implementation</h2><p><code>RunFlare</code> is a generic component, which allows it to work with any Flare UI
regardless of the value produced. The only constraint is that the UI must
produce the same kind of value that the callback accepts as input.</p><p>This may be best understood by examining the prop types:</p><pre><div class="iyhgcsy"><pre class="prismjs"><code style="white-space:pre" class="agm0k2"><span class="token keyword">type</span><span class=""> </span><span class="token class-name maybe-class-name">RunFlareProps</span><span class="token class-name operator">&lt;</span><span class="token class-name constant">A</span><span class="token class-name operator">&gt;</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="">  flare</span><span class="token operator">:</span><span class=""> </span><span class="token maybe-class-name">Flare</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="">
</span><span class="">  </span><span class="token function-variable function">handler</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">(</span><span class="">a</span><span class="token operator">:</span><span class=""> </span><span class="token constant">A</span><span class="token punctuation">)</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> </span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="">
</span><span class="">  </span><span class="token comment">// ...</span><span class="">
</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></pre><h2 id="common-use-case">Common Use Case</h2><p>While the generic implementation of <code>RunFlare</code> supports a wide variety of use
cases, it may be helpful to consider perhaps the most common use case of
displaying some element as a function of user input, as shown on the
<a href="/examples">Examples</a> page. For this use case,
<a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/14f568cded146f89864a06da1884364bd4e6ced0/types/react/index.d.ts#L237"><code>ReactNode</code></a>
(or a more restrictive subtype) may be substituted in place of <code>A</code>:</p><pre><div class="iyhgcsy"><pre class="prismjs"><code style="white-space:pre" class="agm0k2"><span class="token keyword">type</span><span class=""> </span><span class="token class-name maybe-class-name">RunFlareProps</span><span class="token class-name operator">&lt;</span><span class="token class-name maybe-class-name">ReactNode</span><span class="token class-name operator">&gt;</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="">  flare</span><span class="token operator">:</span><span class=""> </span><span class="token maybe-class-name">Flare</span><span class="token operator">&lt;</span><span class="token maybe-class-name">ReactNode</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="">
</span><span class="">  </span><span class="token function-variable function">handler</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">(</span><span class="">a</span><span class="token operator">:</span><span class=""> </span><span class="token maybe-class-name">ReactNode</span><span class="token punctuation">)</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> </span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="">
</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></pre><p>Thus, the UI passed to the <code>flare</code> prop must produce a type of value that is
assignable to <code>ReactNode</code>. If it does not, then the
<a href="/api-docs/flare-core#map"><code>map</code></a> function may offer a solution by providing the
means to transform the value that the UI produces.</p><p>Similarly, the <code>handler</code> prop callback must accept a <code>ReactNode</code> as input and
produce a side effect.</p><p>In this case, the side effect is that of mutating a <code>ReactNode</code> value held in
state. Usually, the
<a href="https://reactjs.org/docs/hooks-reference.html#usestate"><code>useState</code></a> hook is all
that is required:</p><pre><div class="iyhgcsy"><pre class="prismjs"><code style="white-space:pre" class="agm0k2"><span class="token keyword">const</span><span class=""> </span><span class="token punctuation">[</span><span class="">flareOutput</span><span class="token punctuation">,</span><span class=""> setFlareOutput</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">=</span><span class=""> useState</span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">ReactNode</span><span class="token tag punctuation">&gt;</span><span class="token plain-text">();
</span><span class="token plain-text">
</span><span class="token plain-text">// ...
</span><span class="token plain-text">
</span><span class="token plain-text"></span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">RunFlare</span><span class="token tag">
</span><span class="token tag">  </span><span class="token tag attr-name">flare</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript comment">/*...*/</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag">
</span><span class="token tag">  </span><span class="token tag attr-name">handler</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">setFlareOutput</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span></code></pre></div></pre><p>Finally, the <code>flareOutput</code> node can be rendered wherever it belongs in the
component tree, e.g.</p><pre><div class="iyhgcsy"><pre class="prismjs"><code style="white-space:pre" class="agm0k2"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">className</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">output</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">  </span><span class="token punctuation">{</span><span class="">flareOutput</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token plain-text"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span></code></pre></div></pre><h2 id="example">Example</h2><p>A complete example of a Flare UI embedded inside of React is available on
GitHub. You can also click the button below to launch it in CodeSandbox.</p><div class="x5b1z4j"><div class="a65k7c6 a4yj04u"><a class="k1av26k levhvbn c96qis0" href="https://github.com/nsaunders/flare/tree/master/examples/react-basic"><div class="tnxudgn ch8e3ig"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"></path></svg></div><div class="x947sk">Source</div></a></div><div class="a65k7c6 a4yj04u"><a class="k1av26k levhvbn c96qis0" href="https://codesandbox.io/s/github/nsaunders/flare/tree/master/examples/react-basic?file=/src/main.tsx"><div class="tnxudgn ch8e3ig"><svg width="1.25rem" height="1.25rem" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 296"><path d="M115.498 261.088v-106.61L23.814 101.73v60.773l41.996 24.347v45.7l49.688 28.54zm23.814.627l50.605-29.151V185.78l42.269-24.495v-60.011l-92.874 53.621v106.82zm80.66-180.887l-48.817-28.289l-42.863 24.872l-43.188-24.897l-49.252 28.667l91.914 52.882l92.206-53.235zM0 222.212V74.495L127.987 0L256 74.182v147.797l-128.016 73.744L0 222.212z" fill="currentColor"></path></svg></div><div class="x947sk">Live Demo</div></a></div></div></div></main></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/embedding-in-react","query":{},"buildId":"cUmJIaZ8f2xaRCa3PW4Cr","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>